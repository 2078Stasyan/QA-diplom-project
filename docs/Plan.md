# Планирование

## 1. Перечень автоматизируемых сценариев

### Карты, предоставленные для тестирования (в файле data.json):

* 4444 4444 4444 4441, status *"APPROVED"*
* 4444 4444 4444 4442, status *"DECLINED"*

### Тестируемые Базы данных:

- MySql
- PostgreSQL

### Требования к содержимому полей:

1. ***Номер карты:*** цифровые символы, 16 шт., в формате **** **** **** ****
2. ***Месяц:*** 01-12, но не ранее текущего месяца в случае, если указан текущий год
3. ***Год:*** последние две цифры порядкового номера года, не ранее текущего года, не более 5ти лет от текущего года
4. ***Владелец:*** буквенные символы латинского алфавита
5. ***CVC:*** цифровые символы, 3 шт.

### Тестовые сценарии:

### *Позитивные:*
1. Покупка с валидным номером карты:

* В поле "Номер карты" ввести "4444 4444 4444 4441"
* В поле "Год" ввести "Текущий год"
* В поле "Месяц" ввести "Номер месяца"
* В поле "Владелец" вводятся данные Faker
* В поле "CVC/CVV" вводятся данные Faker
* Нажать кнопку "Продолжить"

*Ожидаемый результат: уведомление "Успешно! Операция одобрена банком".*

2. Покупка в кредит с валидным номером карты:

* В поле "Номер карты" ввести "4444 4444 4444 4441"
* В поле "Год" ввести "Текущий год + 1 год"
* В поле "Месяц" ввести "Номер месяца"
* В поле "Владелец" вводятся данные Faker
* В поле "CVC/CVV" вводятся данные Faker
* Нажать кнопку "Продолжить"

*Ожидаемый результат: уведомление "Успешно! Операция одобрена банком".*

### *Негативные:*

1. Покупка с невалидным номером карты:

* В поле "Номер карты" ввести "4444 4444 4444 4442".
* В поле "Год" ввести "Текущий год"
* В поле "Месяц" ввести "Номер месяца"
* В поле "Владелец" вводятся данные Faker
* В поле "CVC/CVV" вводятся данные Faker
* Нажать кнопку "Продолжить"

*Ожидаемый результат: уведомление "Ошибка! Банк отказал в проведении операции"."Отказано".*

2. Отправка формы со всеми пустыми полями:

* Оставить все поля пустыми
* Нажать кнопку "Продолжить"

*Ожидаемый результат: уведомление об ошибках под всеми полями "Поле обязательно для заполнения". Форма не отправлена.*

3. Покупка с карты с истекшим сроком действия (прошлый год):

* В поле "Номер карты" ввести "4444 4444 4444 4441".
* В поле "Год" ввести "Текущий год - 1"
* В поле "Месяц" ввести "Номер месяца"
* В поле "Владелец" вводятся данные Faker
* В поле "CVC/CVV" ввести "123"
* Нажать кнопку "Продолжить"

*Ожидаемый результат: уведомление "Истёк срок действия карты" под полем "Год". Форма не отправлена.*

4. Покупка с карты с истекшим сроком действия (предыдущий месяц):

* В поле "Номер карты" ввести "4444 4444 4444 4441"
* В поле "Год" ввести "Текущий год"
* В поле "Месяц" ввести "Текущий месяц - 1"
* В поле "Владелец" вводятся данные Faker
* В поле "CVC/CVV" вводятся данные Faker
* Нажать кнопку "Продолжить"

*Ожидаемый результат: уведомление "Неверно указан срок действия карты" под полем "Месяц". Форма не отправлена.*

5. Покупка с указанием неверного формата поля "Номер карты":

* В поле "Номер карты" ввести "4444 4444"
* В поле "Год" ввести "Текущий год"
* В поле "Месяц" ввести "Номер месяца"
* В поле "Владелец" вводятся данные Faker
* В поле "CVC/CVV" вводятся данные Faker
* Нажать кнопку "Продолжить"

*Ожидаемый результат: уведомление об ошибке под полем "Номер карты". Форма не отправлена.*

6. Покупка с указанием неверного формата поля "Год":

* В поле "Номер карты" ввести "4444 4444 4444 4441"
* В поле "Год" ввести значение в интервале 100-999.
* В поле "Месяц" ввести "Номер месяца"
* В поле "Владелец" вводятся данные Faker
* В поле "CVC/CVV" вводятся данные Faker
* Нажать кнопку "Продолжить"

*Ожидаемый результат: уведомление об ошибке под полем "Год". Форма не отправлена.*

7. Покупка с указанием неверного формата поля "Месяц":

* В поле "Номер карты" ввести "4444 4444 4444 4441"
* В поле "Год" ввести "Текущий год"
* В поле "Месяц" ввести значение в интервале 13-99
* В поле "Владелец" вводятся данные Faker
* В поле "CVC/CVV" вводятся данные Faker
* Нажать кнопку "Продолжить"

*Ожидаемый результат: уведомление об ошибке под полем "Месяц". Форма не отправлена.*

8. Покупка с указанием цифрового формата поля "Владелец":

* В поле "Номер карты" ввести "4444 4444 4444 4441"
* В поле "Год" ввести "Текущий год"
* В поле "Месяц" ввести "Номер месяца"
* В поле "Владелец" ввести цифровое значение в интервале 1-999
* В поле "CVC/CVV" вводятся данные Faker
* Нажать кнопку "Продолжить"

*Ожидаемый результат: уведомление об ошибке под полем "Владелец". Форма не отправлена.*

9. Покупка с указанием неверного формата поля CVC/CVV:

* В поле "Номер карты" ввести "4444 4444 4444 4441"
* В поле "Год" ввести "Текущий год"
* В поле "Месяц" ввести "Номер месяца"
* В поле "Владелец" вводятся данные Faker
* В поле "CVC/CVV" ввести значение в интервале 0-99
* Нажать кнопку "Продолжить"

*Ожидаемый результат: уведомление об ошибке под полем "CVC/CVV". Форма не отправлена.*

10. Покупка с несуществующим номером карты:

* В поле "Номер карты" ввести "0000 0000 0000 0000"
* В поле "Год" ввести "Текущий год"
* В поле "Месяц" ввести "Номер месяца"
* В поле "Владелец" вводятся данные Faker
* В поле "CVC/CVV" вводятся данные Faker
* Нажать кнопку "Продолжить"

*Ожидаемый результат: уведомление "Ошибка! Банк отказал в проведении операции"."Отказано".*

11. Покупка с нулями в поле "Месяц"

* В поле "Номер карты" ввести "4444 4444 4444 4441"
* В поле "Год" ввести "Текущий год"
* В поле "Месяц" ввести "00"
* В поле "Владелец" вводятся данные Faker
* В поле "CVC/CVV" вводятся данные Faker
* Нажать кнопку "Продолжить"

*Ожидаемый результат: уведомление "Неверно указан срок действия карты" под полем "Месяц". Форма не отправлена.*

12. Покупка с нулями в поле "CVV"

* В поле "Номер карты" ввести "4444 4444 4444 4441"
* В поле "Год" ввести "Текущий год + 2"
* В поле "Месяц" ввести "Номер месяца"
* В поле "Владелец" вводятся данные Faker
* В поле "CVC/CVV" ввести "000"
* Нажать кнопку "Продолжить"

*Ожидаемый результат: уведомление об ошибке под полем "CVC/CVV". Форма не отправлена.*

## 2. Перечень используемых инструментов с обоснованием выбора

* ```Java 11``` - язык программирования для написания автотестов
* ```IntelliJ IDEA 2022.1.1 (Community Edition)``` - среда разработки ПО с поддержкой Java 11
* ```Gradle``` - cистема автоматической сборки проектов, позволяет подключать нужные библиотеки через настройку зависимостей
* ```Lombok``` - библиотека для генерации кода
* ```Faker``` -библиотека, которая позволяет генерировать случайные данные
* ```JUnit Jupiter``` - библиотека для модульного тестирования программного обеспечения на языке Java
* ```Selenide``` - библиотека для автоматизированного тестирования веб-приложений на основе Selenium WebDriver, позволяющая использовать CSS селекторы
* ```Docker&DockerCompose``` - система контейнеризации для управления базами данных. Позволяет экономить ресурсы хостовой машины
* ```Allure``` - фреймворк от Яндекса для создания простых и понятных отчётов автотестов
* ```База данных SQL``` – БД для хранения информации о том, каким способом был совершён платёж и успешно ли он был совершён

## 3. Перечень и описание возможных рисков при автоматизации

* Отсутствие документации по описанию работы приложения.
* Увеличение времени работы из-за недостаточной мощности ПК.
* Риск появления проблем с настройкой приложения и необходимых БД.
* Сложность настройки работы симулятора банковского сервиса.

## 4. Интервальная оценка с учетом рисков (в часах)

* Написание плана тестирования - 8ч.
* Подготовка и настройка проекта, установка необходимого ПО, запуск SUT - 12ч.
* Написание тестов - от 24ч. до 96ч.
* Написание отчетов о тестировании - 12ч.
* Написание отчетов об автоматизации - 8ч.

## 5. План сдачи работ

* Написание автотестов - 5.12.2022
* Написание отчетов о тестировании и автоматизации - 8.12.2022