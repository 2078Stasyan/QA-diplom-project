## Дипломный проект профессии «Тестировщик»
Данный проект представляет собой тестирование веб-сервиса 
покупки тура "Путешествие дня - Марракэш" (предоставленного 
в виде приложения). Приложение предлагает купить тур по 
определённой цене с помощью двух способов: 

* обычная оплата по дебетовой карте;
* выдача кредита по данным банковской карты.

Приложение в собственной СУБД сохраняет информацию о том, каким 
способом был совершён платёж и успешно ли он был совершён.
(при этом данные карт сохранять не допускается).

## Установка и запуск приложения

* запустить IntelliJ IDEA с проектом с репозитария

```git clone https://github.com/2078Stasyan/QA-diplom-project```

* запустить docker container (настройки в файле docker-compose.yml)
для запуска контейнеров с MySql, PostgreSQL и Node.js использовать 
команду docker-compose up -d --build (необходим установленный Docker); 
чтобы образ не пересобирался каждый раз необходимо убрать флаг --build

```docker-compose up```

* дождаться запуска контейнеров
* в терминале IntelliJ IDEA запустить SUT:

*с использованием БД MySQL командой:*

```java "-Dspring.datasource.url=jdbc:mysql://localhost:3306/app" -jar artifacts/aqa-shop.jar```

*с использованием БД PostgreSQL командой:* 

```java "-Dspring.datasource.url=jdbc:postgresql://localhost:5432/app" -jar artifacts/aqa-shop.jar```

## Запуск автотестов

* в терминале IntelliJ IDEA запустить автотесты командой:

*для конфигурации БД MySql:*

```./gradlew clean test "-Ddb.url=jdbc:mysql://185.119.57.47:3306/app"```

*для конфигурации БД PostgreSQL:*

```./gradlew clean test "-Ddb.url=jdbc:postgresql://185.119.57.47:5432/app"```

## Запуск отчетов

* в терминале IntelliJ IDEA запустить отчеты командой:

```./gradlew allureReport```

## Остановк работы приложения

* в терминале IntelliJ IDEA остановить SUT

```CTRL+C```
* на виртуальной машине остановить работу контейнеров

```docker stop ```

* закрыть IntelliJ IDEA
